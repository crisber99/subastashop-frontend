<div class="container mt-5">
  <div class="card shadow-lg p-4 mx-auto" style="max-width: 600px;">
    <h3 class="mb-4 text-primary">‚úèÔ∏è Editar Producto</h3>

    <form (ngSubmit)="guardarCambios()">
      
      <div class="mb-3">
        <label class="form-label">Nombre del Producto</label>
        <input type="text" class="form-control" [(ngModel)]="producto.nombre" name="nombre" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Descripci√≥n</label>
        <textarea class="form-control" rows="3" [(ngModel)]="producto.descripcion" name="descripcion" required></textarea>
      </div>

      <div class="mb-3">
        <label class="form-label">Precio Base ($)</label>
        <input type="number" class="form-control" [(ngModel)]="producto.precioBase" name="precioBase" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Fecha de Cierre</label>
        <input type="datetime-local" class="form-control" [(ngModel)]="producto.fechaFinSubasta" name="fechaFin" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Imagen (Opcional)</label>
        <input type="file" class="form-control" (change)="onFileSelected($event)" accept="image/*">
      </div>

      @if (imagenPreview) {
        <div class="mb-3 text-center">
          <p class="text-muted small">Vista Previa:</p>
          <img [src]="imagenPreview" class="img-thumbnail" style="max-height: 200px;">
        </div>
      }

      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary" [disabled]="cargando">
          {{ cargando ? 'Guardando...' : 'Guardar Cambios üíæ' }}
        </button>
        <a routerLink="/admin" class="btn btn-outline-secondary">Cancelar</a>
      </div>

    </form>
  </div>
</div>